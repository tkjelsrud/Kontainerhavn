<html>
<head>
  <style>
  body {
    background-color: black;
    margin: 3em;
    }
  </style>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.7/pixi.min.js" integrity="sha512-k8E2ILMRTO1YBnA2dvTDfsZs7f07gazZDQYbsv2NCxnM9hYFwCKu+rWISm8/fFB1I/gi0tgnURcXJVR7GlE0BA==" crossorigin="anonymous"></script>
  <!--script src="lib/animatorClass.js"></script>
  <script src="lib/treeClass.js"></script>
  <script src="lib/zoomClass.js"></script>
  <script src="lib/midi.js"></script-->
</head>

<body>
  <div align="center">

  </div>

  <script type="text/javascript">
  u = 48;
  w = 40;
  h = 30;
  anim = true;
  animList = new Array();

  let Application = PIXI.Application,
      Container = PIXI.Container,
      loader = PIXI.Loader.shared,
      resources = PIXI.Loader.shared.resources,
      Graphics = PIXI.Graphics,
      TextureCache = PIXI.utils.TextureCache,
      Sprite = PIXI.Sprite;

  var renderer = PIXI.autoDetectRenderer(800, 600,{backgroundColor : 0x1099bb});
  //document.body.appendChild(renderer.view);

      // create the root of the scene graph

  //Create a Pixi Application
  let app = new Application({
      width: u*w,
      height: u*h,
      antialiasing: true,
      transparent: false,
      resolution: 1
    }
  );

  document.body.appendChild(app.view);

    var farTexture = PIXI.Texture.fromImage("resources/bg-sky3.png");
    far = new PIXI.extras.TilingSprite(farTexture, u*w, u*h);
    //far.scale.x = 3;
    //far.scale.y = 3;
    far.position.x = 0;
    far.position.y = 0;
    app.stage.addChild(far);


  function animate() {
    if(anim) requestAnimationFrame(animate);

    parallaxScrolling();

    for(i = 0; i < animList.length; i++) {
      a = animList[i];

      if(a && a.active)
        a.frame();

      if(a && !a.active) {
        let oList = a.getStageObjects();
        for(j = 0; j < oList.length; j++) {
          app.stage.removeChild(oList[j]);
        }
        animList[i] = null;
      }
    }

    animList = animList.filter(function (el) {return el != null;});
  }



  </script>
</body>
</html>
